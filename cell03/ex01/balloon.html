<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Exercise 01 - Balloon</title>
    <style>
        body {
            display: flex; 
            justify-content: center;
            align-items: center;
            min-height: 100vh; 
            margin: 0;
            background-color: #f0f0f0; 
            overflow: hidden; 
        }

        #balloon {
            width: 200px;
            height: 200px;
            background-color: red;
            border-radius: 50%; 
            cursor: pointer; 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2); 
            transition: all 0.3s ease-out; 
            position: relative; 
            border: 2px solid rgba(255, 255, 255, 0.5); 
        }

        
        #balloon::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 25%;
            width: 30%;
            height: 30%;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            filter: blur(5px); 
            opacity: 0.8;
            transition: all 0.3s ease-out;
        }

        .explode {
            animation: explodeAnimation 0.5s forwards;
        }

        @keyframes explodeAnimation {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.5; }
            100% { transform: scale(0); opacity: 0; }
        }

    </style>
</head>
<body>

    <div id="balloon"></div>

    <script>
        const balloon = document.getElementById('balloon');

        let currentSize = 200;
        const colors = ['red', 'green', 'blue'];
        let colorIndex = 0;

        balloon.addEventListener('click', function() {
            
            balloon.classList.remove('explode');

            currentSize += 10;

            if (currentSize > 420) {
                
                balloon.classList.add('explode');
            
                setTimeout(() => {
                    currentSize = 200;
                    colorIndex = 0; 
                    updateBalloonStyle();
                    balloon.classList.remove('explode'); 
                }, 400); 
                return; 
            }

            colorIndex++;
            if (colorIndex > 2) {
                colorIndex = 0;
            }

            updateBalloonStyle();
        });

        balloon.addEventListener('mouseleave', function() {
            
            if (balloon.classList.contains('explode')) {
                return;
            }

            if (currentSize > 200) {
                currentSize -= 5;
            }

            colorIndex--;
            if (colorIndex < 0) {
                colorIndex = 2;
            }

            updateBalloonStyle();
        });

        function updateBalloonStyle() {
            balloon.style.width = currentSize + 'px';
            balloon.style.height = currentSize + 'px';
            balloon.style.backgroundColor = colors[colorIndex];
        }

        
        updateBalloonStyle();

    </script>

</body>
</html>